
# ================================
# NEXUS BACKEND - ENVIRONMENT CONFIGURATION
# Example .env file for all environments
# ================================

# ================================
# APPLICATION
# ================================
NODE_ENV=development                # development | staging | production
PORT=3000                           # Backend server port
FRONTEND_URL=http://localhost:5173  # Frontend base URL
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ================================
# DATABASE
# ================================
DATABASE_URL="postgresql://username:password@localhost:5432/nexus?schema=public" # PostgreSQL connection string

# JWT Token Configuration
JWT_ACCESS_EXPIRY="15m"
JWT_REFRESH_EXPIRY="7d"
JWT_ACCESS_EXPIRY_INT="15"
# Database Connection Pool Settings (Production-Grade)
DATABASE_CONNECTION_LIMIT=10        # Max number of database connections in pool
DATABASE_POOL_TIMEOUT=30            # Connection pool timeout in seconds
DATABASE_POOL_MIN=2                 # Minimum connections to maintain
DATABASE_POOL_MAX=10                # Maximum connections allowed
DATABASE_POOL_IDLE_TIMEOUT=10000    # Idle timeout in milliseconds
DATABASE_STATEMENT_TIMEOUT=60000    # Statement timeout in milliseconds

# ================================
# REDIS (Cloud URL preferred)
# ================================
REDIS_URL=redis://username:password@your-cloud-redis-host:6379/0 # Use your cloud Redis URL
REDIS_TTL=3600

# SendGrid API key for sending emails
SENDGRID_API_KEY="SG.your-sendgrid-api-key"
SENDGRID_EMAIL_FROM="noreply@yourdomain.com"
# Session Management
SESSION_SECRET=your-session-secret-change-in-production
SESSION_TTL=86400

# ================================
# JWT / AUTHENTICATION
# ================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ACCESS_SECRET=your-access-token-secret-change-in-production
JWT_REFRESH_SECRET=your-refresh-token-secret-change-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ================================
# SECURITY
# ================================
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100
AUTH_RATE_LIMIT_TTL=60
AUTH_RATE_LIMIT_MAX=5
CORS_ENABLED=true
LOG_LEVEL=info

# ================================
# EMAIL
# ================================
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=Nexus Platform
EMAIL_VERIFICATION_TTL=3600

<<<<<<< Updated upstream
#SMPT Configuration for sending emails
SMTP_HOST="smtp.mailtrap.io"
SMTP_PORT=2525
SMTP_SECURE="false"
SMTP_USER="your-mailtrap-username"
SMTP_PASS="your-mailtrap-password"
EMAIL_FROM="noreply@yourdomain.com"

# File upload configuration (for document verification)
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES="pdf,jpg,jpeg,png"
=======
# ================================
# FILE UPLOADS
# ================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=nexus-uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document
>>>>>>> Stashed changes

# Google Drive (Optional)
GOOGLE_DRIVE_CLIENT_ID=your-client-id
GOOGLE_DRIVE_CLIENT_SECRET=your-client-secret
GOOGLE_DRIVE_REDIRECT_URI=http://localhost:3000/auth/google/callback
GOOGLE_DRIVE_FOLDER_ID=your-folder-id

# ================================
# CACHING
# ================================
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=1800
CACHE_TTL_LONG=3600

# ================================
# QUEUE / BACKGROUND JOBS
# ================================
QUEUE_REDIS_URL=redis://username:password@your-cloud-redis-host:6379/0 # Use your cloud Redis URL

# ================================
# MONITORING
# ================================
SENTRY_DSN=your-sentry-dsn
METRICS_ENABLED=false
METRICS_PORT=9090

# ================================
# WEBSOCKET / REAL-TIME
# ================================
SOCKET_IO_CORS_ORIGIN=http://localhost:5173
SOCKET_IO_PING_TIMEOUT=60000
SOCKET_IO_PING_INTERVAL=25000
RATE_LIMIT_MESSAGES_PER_MINUTE=100

# ================================
# FIREBASE CLOUD MESSAGING (FCM)
# Push Notifications for Offline Users
# ================================
# Option 1: Service Account JSON (Recommended)
FCM_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"your-project-id","private_key_id":"...","private_key":"...","client_email":"...","client_id":"...","auth_uri":"...","token_uri":"...","auth_provider_x509_cert_url":"...","client_x509_cert_url":"..."}

# Option 2: Individual Credentials (Alternative)
FCM_PROJECT_ID=your-firebase-project-id
FCM_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour private key here\n-----END PRIVATE KEY-----\n"
FCM_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com

# ================================
# PERFORMANCE
# ================================
COMPRESSION_ENABLED=true
REQUEST_TIMEOUT=30000

# ================================
# DEVELOPMENT ONLY
# ================================
DEBUG=false
PRETTY_PRINT_LOGS=true
