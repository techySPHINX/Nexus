# ================================
# NEXUS BACKEND - ENVIRONMENT CONFIGURATION
# Production-Grade Settings
# ================================

# ================================
# APPLICATION
# ================================
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:5173
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ================================
# DATABASE
# ================================
# PostgreSQL Connection
DATABASE_URL="postgresql://username:password@localhost:5432/nexus?schema=public"

# Connection Pool Settings (Production)
# Adjust based on your deployment:
# - Heroku: 20 connections
# - AWS RDS t3.micro: 50-100 connections
# - AWS RDS t3.small: 100-150 connections
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_POOL_TIMEOUT=30000
DATABASE_POOL_IDLE_TIMEOUT=10000

# ================================
# REDIS
# ================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# Session Management
SESSION_SECRET=your-session-secret-change-in-production
SESSION_TTL=86400

# ================================
# JWT / AUTHENTICATION
# ================================
# Secrets (CHANGE IN PRODUCTION!)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ACCESS_SECRET=your-access-token-secret-change-in-production
JWT_REFRESH_SECRET=your-refresh-token-secret-change-in-production

# Token Expiry
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ================================
# SECURITY
# ================================
# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# Sensitive Endpoints Rate Limiting
AUTH_RATE_LIMIT_TTL=60
AUTH_RATE_LIMIT_MAX=5

# CORS
CORS_ENABLED=true

# Logging
LOG_LEVEL=info

# ================================
# EMAIL
# ================================
# SendGrid
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=Nexus Platform

# Email Verification
EMAIL_VERIFICATION_TTL=3600

# ================================
# FILE UPLOADS
# ================================
# AWS S3
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=nexus-uploads

# Upload Limits
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# Google Drive (Optional)
GOOGLE_DRIVE_CLIENT_ID=your-client-id
GOOGLE_DRIVE_CLIENT_SECRET=your-client-secret
GOOGLE_DRIVE_REDIRECT_URI=http://localhost:3000/auth/google/callback
GOOGLE_DRIVE_FOLDER_ID=your-folder-id

# ================================
# CACHING
# ================================
# Cache TTL (in seconds)
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=1800
CACHE_TTL_LONG=3600

# ================================
# QUEUE / BACKGROUND JOBS
# ================================
# BullMQ / Redis Queue
QUEUE_REDIS_HOST=localhost
QUEUE_REDIS_PORT=6379
QUEUE_REDIS_PASSWORD=

# ================================
# MONITORING
# ================================
# Sentry (Error Tracking)
SENTRY_DSN=your-sentry-dsn

# Prometheus (Metrics)
METRICS_ENABLED=false
METRICS_PORT=9090

# ================================
# WEBSOCKET / REAL-TIME
# ================================
# Socket.IO
SOCKET_IO_CORS_ORIGIN=http://localhost:5173
SOCKET_IO_PING_TIMEOUT=60000
SOCKET_IO_PING_INTERVAL=25000

# ================================
# PERFORMANCE
# ================================
# Enable compression
COMPRESSION_ENABLED=true

# Request timeout (ms)
REQUEST_TIMEOUT=30000

# ================================
# DEVELOPMENT ONLY
# ================================
# Disable in production!
DEBUG=false
PRETTY_PRINT_LOGS=true
